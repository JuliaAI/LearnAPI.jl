<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Accessor Functions · LearnAPI.jl</title><meta name="title" content="Accessor Functions · LearnAPI.jl"/><meta property="og:title" content="Accessor Functions · LearnAPI.jl"/><meta property="twitter:title" content="Accessor Functions · LearnAPI.jl"/><meta name="description" content="Documentation for LearnAPI.jl."/><meta property="og:description" content="Documentation for LearnAPI.jl."/><meta property="twitter:description" content="Documentation for LearnAPI.jl."/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../">LearnAPI.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../anatomy_of_an_implementation/">Anatomy of an Implementation</a></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox" checked/><label class="tocitem" for="menuitem-3"><span class="docs-label">Reference</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../reference/">Overview</a></li><li><a class="tocitem" href="../fit_update/">fit/update</a></li><li><a class="tocitem" href="../predict_transform/">predict/transform</a></li><li><a class="tocitem" href="../kinds_of_target_proxy/">Kinds of Target Proxy</a></li><li><a class="tocitem" href="../obs/">obs and Data Interfaces</a></li><li><a class="tocitem" href="../features_target_weights/">features/target/weights</a></li><li class="is-active"><a class="tocitem" href>Accessor Functions</a><ul class="internal"><li><a class="tocitem" href="#Implementation-guide"><span>Implementation guide</span></a></li><li><a class="tocitem" href="#Reference"><span>Reference</span></a></li></ul></li><li><a class="tocitem" href="../traits/">Learner Traits</a></li></ul></li><li><a class="tocitem" href="../common_implementation_patterns/">Common Implementation Patterns</a></li><li><a class="tocitem" href="../testing_an_implementation/">Testing an Implementation</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Reference</a></li><li class="is-active"><a href>Accessor Functions</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Accessor Functions</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaAI/LearnAPI.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaAI/LearnAPI.jl/blob/dev/docs/src/accessor_functions.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="accessor_functions"><a class="docs-heading-anchor" href="#accessor_functions">Accessor Functions</a><a id="accessor_functions-1"></a><a class="docs-heading-anchor-permalink" href="#accessor_functions" title="Permalink"></a></h1><p>The sole argument of an accessor function is the output, <code>model</code>, of <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>. Learners are free to implement any number of these, or none of them. Only <code>LearnAPI.strip</code> has a fallback, namely the identity.</p><ul><li><a href="#LearnAPI.learner"><code>LearnAPI.learner(model)</code></a></li><li><a href="#LearnAPI.extras"><code>LearnAPI.extras(model)</code></a></li><li><a href="#Base.strip"><code>LearnAPI.strip(model)</code></a></li><li><a href="#LearnAPI.coefficients"><code>LearnAPI.coefficients(model)</code></a></li><li><a href="#LearnAPI.intercept"><code>LearnAPI.intercept(model)</code></a></li><li><a href="#LearnAPI.tree"><code>LearnAPI.tree(model)</code></a></li><li><a href="#LearnAPI.trees"><code>LearnAPI.trees(model)</code></a></li><li><a href="#LearnAPI.feature_names"><code>LearnAPI.feature_names(model)</code></a></li><li><a href="#LearnAPI.feature_importances"><code>LearnAPI.feature_importances(model)</code></a></li><li><a href="#LearnAPI.training_losses"><code>LearnAPI.training_losses(model)</code></a></li><li><a href="#LearnAPI.out_of_sample_losses"><code>LearnAPI.out_of_sample_losses(model)</code></a></li><li><a href="#LearnAPI.predictions"><code>LearnAPI.predictions(model)</code></a></li><li><a href="#LearnAPI.out_of_sample_indices"><code>LearnAPI.out_of_sample_indices(model)</code></a></li><li><a href="#LearnAPI.training_scores"><code>LearnAPI.training_scores(model)</code></a></li><li><a href="#LearnAPI.components"><code>LearnAPI.components(model)</code></a></li></ul><p>Learner-specific accessor functions may also be implemented. The names of all accessor functions are included in the list returned by <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions(learner)</code></a>.</p><h2 id="Implementation-guide"><a class="docs-heading-anchor" href="#Implementation-guide">Implementation guide</a><a id="Implementation-guide-1"></a><a class="docs-heading-anchor-permalink" href="#Implementation-guide" title="Permalink"></a></h2><p>All new implementations must implement <a href="#LearnAPI.learner"><code>LearnAPI.learner</code></a>. While, all others are optional, any implemented accessor functions must be added to the list returned by <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a>.</p><h2 id="Reference"><a class="docs-heading-anchor" href="#Reference">Reference</a><a id="Reference-1"></a><a class="docs-heading-anchor-permalink" href="#Reference" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.learner" href="#LearnAPI.learner"><code>LearnAPI.learner</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.learner(model)
LearnAPI.learner(stripped_model)</code></pre><p>Recover the learner used to train <code>model</code> or the output, <code>stripped_model</code>, of <a href="#Base.strip"><code>LearnAPI.strip(model)</code></a>.</p><p>In other words, if <code>model = fit(learner, data...)</code>, for some <code>learner</code> and <code>data</code>, then</p><pre><code class="language-julia hljs">LearnAPI.learner(model) == learner == LearnAPI.learner(LearnAPI.strip(model))</code></pre><p>is <code>true</code>.</p><p><strong>New implementations</strong></p><p>Implementation is compulsory for new learner types. The behaviour described above is the only contract. You must include <code>:(LearnAPI.learner)</code> in the return value of <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions(learner)</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L17-L38">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.extras" href="#LearnAPI.extras"><code>LearnAPI.extras</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.extras(model)</code></pre><p>Return miscellaneous byproducts of a learning algorithm&#39;s execution, from the object <code>model</code> returned by a call of the form <code>fit(learner, data)</code>.</p><p>For &quot;static&quot; learners (those without training <code>data</code>) it may be necessary to first call <code>transform</code> or <code>predict</code> on <code>model</code>.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>Implementation is discouraged for byproducts already covered by other LearnAPI.jl accessor functions: <a href="#LearnAPI.learner"><code>LearnAPI.learner</code></a>, <a href="#LearnAPI.coefficients"><code>LearnAPI.coefficients</code></a>, <a href="#LearnAPI.intercept"><code>LearnAPI.intercept</code></a>, <a href="#LearnAPI.tree"><code>LearnAPI.tree</code></a>, <a href="#LearnAPI.trees"><code>LearnAPI.trees</code></a>, <a href="#LearnAPI.feature_names"><code>LearnAPI.feature_names</code></a>, <a href="#LearnAPI.feature_importances"><code>LearnAPI.feature_importances</code></a>, <a href="#LearnAPI.training_losses"><code>LearnAPI.training_losses</code></a>, <a href="#LearnAPI.out_of_sample_losses"><code>LearnAPI.out_of_sample_losses</code></a>, <a href="#LearnAPI.predictions"><code>LearnAPI.predictions</code></a>, <a href="#LearnAPI.out_of_sample_indices"><code>LearnAPI.out_of_sample_indices</code></a>, <a href="#LearnAPI.training_scores"><code>LearnAPI.training_scores</code></a> and <a href="#LearnAPI.components"><code>LearnAPI.components</code></a>.</p><p>If implemented, you must include <code>:(LearnAPI.extras)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L406-L423">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="Base.strip" href="#Base.strip"><code>Base.strip</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.strip(model; options...)</code></pre><p>Return a version of <code>model</code> that will generally have a smaller memory allocation than <code>model</code>, suitable for serialization. Here <code>model</code> is any object returned by <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>. Accessor functions that can be called on <code>model</code> may not work on <code>LearnAPI.strip(model)</code>, but <a href="../predict_transform/#LearnAPI.predict"><code>predict</code></a>, <a href="../predict_transform/#LearnAPI.transform"><code>transform</code></a> and <a href="../predict_transform/#LearnAPI.inverse_transform"><code>inverse_transform</code></a> will work, if implemented. Check <code>LearnAPI.functions(LearnAPI.learner(model))</code> to view see what the original <code>model</code> implements.</p><p>Implementations may provide learner-specific keyword <code>options</code> to control how much of the original functionality is preserved by <code>LearnAPI.strip</code>.</p><p><strong>Typical workflow</strong></p><pre><code class="language-julia hljs">model = fit(learner, (X, y)) # or `fit(learner, X, y)`
ŷ = predict(model, Point(), Xnew)

small_model = LearnAPI.strip(model)
serialize(&quot;my_model.jls&quot;, small_model)

recovered_model = deserialize(&quot;my_random_forest.jls&quot;)
@assert predict(recovered_model, Point(), Xnew) == ŷ</code></pre><p><strong>Extended help</strong></p><p><strong>New implementations</strong></p><p>Overloading <code>LearnAPI.strip</code> for new learners is optional. The fallback is the identity.</p><p>New implementations must enforce the following identities, whenever the right-hand side is defined:</p><pre><code class="language-julia hljs">predict(LearnAPI.strip(model; options...), args...; kwargs...) ==
    predict(model, args...; kwargs...)
transform(LearnAPI.strip(model; options...), args...; kwargs...) ==
    transform(model, args...; kwargs...)
inverse_transform(LearnAPI.strip(model; options), args...; kwargs...) ==
    inverse_transform(model, args...; kwargs...)</code></pre><p>Additionally:</p><pre><code class="language-julia hljs">LearnAPI.strip(LearnAPI.strip(model)) == LearnAPI.strip(model)</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L41-L93">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.coefficients" href="#LearnAPI.coefficients"><code>LearnAPI.coefficients</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.coefficients(model)</code></pre><p>For a linear model, return the learned coefficients.  The value returned has the form of an abstract vector of <code>feature_or_class::Symbol =&gt; coefficient::Real</code> pairs (e.g <code>[:gender =&gt; 0.23, :height =&gt; 0.7, :weight =&gt; 0.1]</code>) or, in the case of multi-targets, <code>feature::Symbol =&gt; coefficients::AbstractVector{&lt;:Real}</code> pairs.</p><p>The <code>model</code> reports coefficients if <code>:(LearnAPI.coefficients) in LearnAPI.functions(Learn.learner(model))</code>.</p><p>See also <a href="#LearnAPI.intercept"><code>LearnAPI.intercept</code></a>.</p><p><strong>New implementations</strong></p><p>Implementation is optional.</p><p>If implemented, you must include <code>:(LearnAPI.coefficients)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L139-L158">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.intercept" href="#LearnAPI.intercept"><code>LearnAPI.intercept</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.intercept(model)</code></pre><p>For a linear model, return the learned intercept.  The value returned is <code>Real</code> (single target) or an <code>AbstractVector{&lt;:Real}</code> (multi-target).</p><p>The <code>model</code> reports intercept if <code>:(LearnAPI.intercept) in LearnAPI.functions(Learn.learner(model))</code>.</p><p>See also <a href="#LearnAPI.coefficients"><code>LearnAPI.coefficients</code></a>.</p><p><strong>New implementations</strong></p><p>Implementation is optional.</p><p>If implemented, you must include <code>:(LearnAPI.intercept)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L161-L178">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.tree" href="#LearnAPI.tree"><code>LearnAPI.tree</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.tree(model)</code></pre><p>Return a user-friendly <code>tree</code>, implementing the AbstractTrees.jl interface. In particular, such a tree can be visualized using <code>AbstractTrees.print_tree(tree)</code> or using the TreeRecipe.jl package.</p><p>See also <a href="#LearnAPI.trees"><code>LearnAPI.trees</code></a>.</p><p><strong>New implementations</strong></p><p>Implementation is optional. The returned object should implement the following interface defined in AbstractTrees.jl:</p><ul><li><p><code>tree</code> subtypes <code>AbstractTrees.AbstractNode{T}</code></p></li><li><p><code>AbstractTrees.children(tree)</code></p></li><li><p><code>AbstractTrees.printnode(tree)</code> should be human-readable</p></li></ul><p>If implemented, you must include <code>:(LearnAPI.tree)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L181-L203">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.trees" href="#LearnAPI.trees"><code>LearnAPI.trees</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.trees(model)</code></pre><p>For tree ensemble model, return a vector of trees, each implementing the AbstractTrees.jl interface.</p><p>See also <a href="#LearnAPI.tree"><code>LearnAPI.tree</code></a>.</p><p><strong>New implementations</strong></p><p>Implementation is optional. See <a href="#LearnAPI.tree"><code>LearnAPI.tree</code></a> for the interface each tree in the ensemble should implement.</p><p>If implemented, you must include <code>:(LearnAPI.trees)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L206-L221">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.feature_names" href="#LearnAPI.feature_names"><code>LearnAPI.feature_names</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.feature_names(model)</code></pre><p>Where supported, return the names of features encountered when fitting or updating some <code>learner</code> to obtain <code>model</code>.</p><p>The value returned value is a vector of symbols.</p><p>This method is implemented if <code>:(LearnAPI.feature_names) in LearnAPI.functions(learner)</code>.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>If implemented, you must include <code>:(LearnAPI.feature_names)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L96-L112">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.feature_importances" href="#LearnAPI.feature_importances"><code>LearnAPI.feature_importances</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.feature_importances(model)</code></pre><p>Where supported, return the learner-specific feature importances of a <code>model</code> output by <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a><code>(learner, ...)</code> for some <code>learner</code>.  The value returned has the form of an abstract vector of <code>feature::Symbol =&gt; importance::Real</code> pairs (e.g <code>[:gender =&gt; 0.23, :height =&gt; 0.7, :weight =&gt; 0.1]</code>).</p><p>The <code>learner</code> supports feature importances if <code>:(LearnAPI.feature_importances) in LearnAPI.functions(learner)</code>.</p><p>If a learner is sometimes unable to report feature importances then <code>LearnAPI.feature_importances</code> will return all importances as 0.0, as in <code>[:gender =&gt; 0.0, :height =&gt; 0.0, :weight =&gt; 0.0]</code>.</p><p><strong>New implementations</strong></p><p>Implementation is optional.</p><p>If implemented, you must include <code>:(LearnAPI.feature_importances)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L115-L136">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.training_losses" href="#LearnAPI.training_losses"><code>LearnAPI.training_losses</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.training_losses(model)</code></pre><p>Return internally computed training losses obtained when running <code>model = fit(learner, ...)</code> for some <code>learner</code>, one for each iteration of the algorithm. This will be a numerical vector. The metric used to compute the loss is generally learner-specific, but may be a user-specifiable learner hyperparameter. Generally, the smaller the loss, the better the performance.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>Implement for iterative algorithms that compute measures of training performance as part of training (e.g. neural networks). Return one value per iteration, in chronological order, with an optional pre-training initial value. If scores are being computed rather than losses, ensure values are multiplied by -1.</p><p>If implemented, you must include <code>:(LearnAPI.training_losses)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L224-L244">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.out_of_sample_losses" href="#LearnAPI.out_of_sample_losses"><code>LearnAPI.out_of_sample_losses</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.out_of_sample_losses(model)</code></pre><p>Where supported, return internally computed out-of-sample losses obtained when running <code>model = fit(learner, ...)</code> for some <code>learner</code>, one for each iteration of the algorithm. This will be a numeric vector. The metric used to compute the loss is generally learner-specific, but may be a user-specifiable learner hyperparameter. Generally, the smaller the loss, the better the performance.</p><p>If the learner is not setting aside a separate validation set, then the losses are all <code>Inf</code>.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>Only implement this method for learners that specifically allow for the supplied training data to be internally split into separate &quot;train&quot; and &quot;validation&quot; subsets, and which additionally compute an out-of-sample loss.  Return one value per iteration, in chronological order, with an optional pre-training initial value. If scores are being computed rather than losses, ensure values are multiplied by -1.</p><p>If implemented, you must include <code>:(LearnAPI.out_of_sample_losses)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L247-L271">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.predictions" href="#LearnAPI.predictions"><code>LearnAPI.predictions</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.predictions(model)</code></pre><p>Where supported, return internally computed predictions on the training <code>data</code> after running <code>model = fit(learner, data)</code> for some <code>learner</code>. Semantically equivalent to calling <code>LearnAPI.predict(model, X)</code>, where <code>X = LearnAPI.features(obs(learner, data))</code> but generally cheaper.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>Implement for algorithms that internally compute predictions for the training data. Predictions for the complete test data must be returned, even if only a subset is internally used for training. Cannot be implemented for static algorithms (algorithms for which <code>fit</code> consumes no data). Here are some possible use cases:</p><ul><li><p>Clustering algorithms that generalize to new data, but by first learning labels for the training data (e.g., K-means); use <code>predictions(model)</code> to expose these labels to the user so they can avoid the expense of a separate <code>predict</code> call.</p></li><li><p>Iterative learners such as neural networks, that need to make in-sample predictions  to estimate to estimate an in-sample loss; use <code>predictions(model)</code>  to expose these predictions to the user so they can avoid a separate <code>predict</code> call.</p></li><li><p>Ensemble learners, such as gradient tree boosting algorithms, may split the training data into internal train and validation subsets and can efficiently build up predictions on both with an update for each new ensemble member; expose these predictions to the user (for external iteration control, for example) using <code>predictions(model)</code> and articulate the actual split used using <a href="#LearnAPI.out_of_sample_indices"><code>LearnAPI.out_of_sample_indices(model)</code></a>.</p></li></ul><p>If implemented, you must include <code>:(LearnAPI.predictions)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L274-L307">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.out_of_sample_indices" href="#LearnAPI.out_of_sample_indices"><code>LearnAPI.out_of_sample_indices</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.out_of_sample_indices(model)</code></pre><p>For a learner also implementing <a href="#LearnAPI.predictions"><code>LearnAPI.predictions</code></a>, return a vector of observation indices identifying which part, if any, of <code>yhat = LearnAPI.predictions(model)</code>, is actually out-of-sample predictions. If the learner trained on all data this will be an empty vector.</p><p>Here&#39;s a sample workflow for some such <code>learner</code>, with training data, <code>(X, y)</code>, where <code>y</code> is the training target, here assumed to be a vector.</p><pre><code class="language-julia hljs">import MLUtils.getobs
model = fit(learner, (X, y))
yhat = LearnAPI.predictions(model)
test_indices = LearnAPI.out_of_sample_indices(model)
out_of_sample_loss = yhat[test_indices] .!= y[test_indices] |&gt; mean</code></pre><p><strong>New implementations</strong></p><p>Implement for algorithms that internally split training data into &quot;train&quot; and &quot;validate&quot; subsets. Assumes <a href="../traits/#LearnAPI.data_interface"><code>LearnAPI.data_interface(learner)</code></a><code>==LearnAPI.RandomAccess()</code>.</p><p>If implemented, you must include <code>:(LearnAPI.out_of_sample_indices)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L310-L336">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.training_scores" href="#LearnAPI.training_scores"><code>LearnAPI.training_scores</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.training_scores(model)</code></pre><p>Where supported, return the training scores obtained when running <code>model = fit(learner, ...)</code> for some <code>learner</code>. This will be a numerical vector whose length coincides with the number of training observations, and whose interpretation depends on the learner.</p><p>See also <a href="../fit_update/#LearnAPI.fit"><code>fit</code></a>.</p><p><strong>New implementations</strong></p><p>Implement for learners, such as outlier detection algorithms, which associate a numerical score with each observation during training, when these scores are of interest in workflows (e.g, to normalize the scores for new observations).</p><p>If implemented, you must include <code>:(LearnAPI.training_scores)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L339-L356">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="LearnAPI.components" href="#LearnAPI.components"><code>LearnAPI.components</code></a> — <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LearnAPI.components(model)</code></pre><p>For a composite <code>model</code>, return the component models (<code>fit</code> outputs). These will be in the form of a vector of named pairs, <code>sublearner::Symbol =&gt; component_model(s)</code>, one for each <code>sublearner</code> in <a href="../traits/#LearnAPI.learners"><code>LearnAPI.learners(learner)</code></a>, where <code>learner = LearnAPI.learner(model)</code>. Here <code>component_model(s)</code> will be the <code>fit</code> output (or vector of <code>fit</code> outputs) generated internally for the the corresponding sublearner.</p><p>The <code>model</code> is composite if <a href="../traits/#LearnAPI.learners"><code>LearnAPI.learners(learner)</code></a> is non-empty.</p><p>See also <a href="../traits/#LearnAPI.learners"><code>LearnAPI.learners</code></a>.</p><p><strong>New implementations</strong></p><p>Implementent if and only if <code>model</code> is a composite model.</p><p>If implemented, you must include <code>:(LearnAPI.components)</code> in the tuple returned by the <a href="../traits/#LearnAPI.functions"><code>LearnAPI.functions</code></a> trait. .</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaAI/LearnAPI.jl/blob/017e61efad77b1fc26ee424475b7f0f9a0efd187/src/accessor_functions.jl#L359-L378">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../features_target_weights/">« features/target/weights</a><a class="docs-footer-nextpage" href="../traits/">Learner Traits »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.8.0 on <span class="colophon-date" title="Thursday 6 February 2025 18:42">Thursday 6 February 2025</span>. Using Julia version 1.11.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
